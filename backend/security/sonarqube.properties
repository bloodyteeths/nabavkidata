# SonarQube Configuration
# https://docs.sonarqube.org/latest/analysis/analysis-parameters/

# Project identification
sonar.projectKey=nabavki-platform
sonar.projectName=Nabavki Platform
sonar.projectVersion=1.0.0

# Source code location
sonar.sources=backend,frontend/app,scraper
sonar.tests=tests,backend/tests,frontend/__tests__

# Language-specific settings
sonar.python.version=3.11
sonar.javascript.node.maxspace=4096

# Code coverage
sonar.coverage.exclusions=**/tests/**,**/__tests__/**,**/migrations/**,**/node_modules/**
sonar.python.coverage.reportPaths=coverage.xml,backend/coverage.xml
sonar.javascript.lcov.reportPaths=frontend/coverage/lcov.info

# Quality gate thresholds
sonar.qualitygate.wait=true
sonar.qualitygate.timeout=300

# Code smells and bugs
sonar.issue.ignore.multicriteria=e1,e2,e3

# Ignore Python import order issues
sonar.issue.ignore.multicriteria.e1.ruleKey=python:S1451
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.py

# Ignore TODO comments in tests
sonar.issue.ignore.multicriteria.e2.ruleKey=python:S1135
sonar.issue.ignore.multicriteria.e2.resourceKey=**/tests/**

# Ignore console.log in development files
sonar.issue.ignore.multicriteria.e3.ruleKey=javascript:S2228
sonar.issue.ignore.multicriteria.e3.resourceKey=**/*.dev.js

# Exclusions
sonar.exclusions=\
  **/node_modules/**,\
  **/migrations/**,\
  **/__pycache__/**,\
  **/venv/**,\
  **/.venv/**,\
  **/dist/**,\
  **/build/**,\
  **/.next/**,\
  **/coverage/**,\
  **/*.spec.js,\
  **/*.test.js,\
  **/*.spec.ts,\
  **/*.test.ts

# Duplications exclusions
sonar.cpd.exclusions=**/migrations/**,**/tests/**

# Security hotspot exclusions
sonar.security.hotspots.exclusions=**/tests/**

# Analysis settings
sonar.sourceEncoding=UTF-8
sonar.scm.disabled=false
sonar.scm.provider=git

# Language file suffixes
sonar.python.file.suffixes=.py
sonar.javascript.file.suffixes=.js,.jsx
sonar.typescript.file.suffixes=.ts,.tsx

# External reports
sonar.externalIssuesReportPaths=reports/external-issues.json
