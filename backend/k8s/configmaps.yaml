apiVersion: v1
kind: ConfigMap
metadata:
  name: app-config
  namespace: nabavkidata
data:
  # Application settings
  APP_NAME: "Nabavki Data"
  APP_VERSION: "1.0.0"
  APP_ENVIRONMENT: "production"

  # Feature flags
  ENABLE_ANALYTICS: "true"
  ENABLE_CACHING: "true"
  ENABLE_RATE_LIMITING: "true"

  # Logging configuration
  LOG_FORMAT: "json"
  LOG_LEVEL: "info"

  # Cache settings
  CACHE_TTL: "3600"
  CACHE_MAX_SIZE: "1000"

  # API settings
  API_TIMEOUT: "30"
  API_MAX_RETRIES: "3"
  API_RATE_LIMIT: "100"

  # Database pool settings
  DB_POOL_SIZE: "20"
  DB_MAX_OVERFLOW: "10"
  DB_POOL_TIMEOUT: "30"

  # Vector search settings
  VECTOR_DIMENSIONS: "1536"
  VECTOR_SIMILARITY_THRESHOLD: "0.7"

  # Pagination defaults
  DEFAULT_PAGE_SIZE: "20"
  MAX_PAGE_SIZE: "100"
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: monitoring-config
  namespace: nabavkidata
data:
  prometheus.yml: |
    global:
      scrape_interval: 15s
      evaluation_interval: 15s
    scrape_configs:
      - job_name: 'backend'
        kubernetes_sd_configs:
          - role: pod
            namespaces:
              names:
                - nabavkidata
        relabel_configs:
          - source_labels: [__meta_kubernetes_pod_label_app]
            action: keep
            regex: backend
