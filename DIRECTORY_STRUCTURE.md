# nabavkidata.com - Multi-Agent System Directory Structure

## Current Structure (Generated Files)

```
nabavkidata/
â”œâ”€â”€ README.md (TODO - generate project overview)
â”œâ”€â”€ QUICK_START.md âœ… (30-min setup guide)
â”œâ”€â”€ MULTI_AGENT_SYSTEM_COMPLETE.md âœ… (comprehensive system docs)
â”œâ”€â”€ DIRECTORY_STRUCTURE.md âœ… (this file)
â”œâ”€â”€ roadmap.md âœ… (original technical roadmap - reference)
â”œâ”€â”€ orchestrator.yaml âœ… (multi-agent coordination config - 650 lines)
â”‚
â”œâ”€â”€ .env.example (TODO - environment variable template)
â”œâ”€â”€ .gitignore (TODO - git ignore patterns)
â”‚
â”œâ”€â”€ claude/ âœ…
â”‚   â”œâ”€â”€ rules.md âœ… (global quality standards - 1800 lines)
â”‚   â””â”€â”€ agents/ âœ…
â”‚       â”œâ”€â”€ orchestrator.md âœ… (agent coordinator - 800 lines)
â”‚       â”œâ”€â”€ database.md âœ… (DB schema designer - 900 lines)
â”‚       â”œâ”€â”€ scraper.md âœ… (web scraping - 700 lines)
â”‚       â”œâ”€â”€ backend.md (TODO - API server)
â”‚       â”œâ”€â”€ ai_rag.md (TODO - RAG pipeline)
â”‚       â”œâ”€â”€ frontend.md (TODO - Next.js UI)
â”‚       â”œâ”€â”€ billing.md (TODO - Stripe integration)
â”‚       â”œâ”€â”€ devops.md (TODO - Docker/CI/CD)
â”‚       â””â”€â”€ qa_testing.md (TODO - quality assurance)
â”‚
â”œâ”€â”€ db/ âœ…
â”‚   â”œâ”€â”€ schema.sql âœ… (complete PostgreSQL schema - 650 lines)
â”‚   â”œâ”€â”€ schema.md âœ… (database documentation - 800 lines)
â”‚   â”œâ”€â”€ README.md (TODO - setup instructions)
â”‚   â”œâ”€â”€ ERD.md (TODO - entity relationship diagram)
â”‚   â”œâ”€â”€ seed_data.sql (TODO - sample data for dev/test)
â”‚   â”œâ”€â”€ migrations/
â”‚   â”‚   â”œâ”€â”€ 001_initial_schema.sql (TODO - migration script)
â”‚   â”‚   â””â”€â”€ 001_rollback.sql (TODO - rollback script)
â”‚   â””â”€â”€ backups/ (created during production)
â”‚
â”œâ”€â”€ backend/ (TODO - generated by Backend Agent)
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ requirements.txt (Python) or package.json (Node)
â”‚   â”œâ”€â”€ main.py or server.js
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ auth.py
â”‚   â”‚   â”œâ”€â”€ tenders.py
â”‚   â”‚   â”œâ”€â”€ ai.py
â”‚   â”‚   â”œâ”€â”€ alerts.py
â”‚   â”‚   â””â”€â”€ billing.py
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ user.py
â”‚   â”‚   â”œâ”€â”€ tender.py
â”‚   â”‚   â””â”€â”€ subscription.py
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ tender_service.py
â”‚   â”‚   â”œâ”€â”€ ai_service.py
â”‚   â”‚   â””â”€â”€ email_service.py
â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â”œâ”€â”€ auth.py
â”‚   â”‚   â”œâ”€â”€ tier_enforcement.py
â”‚   â”‚   â””â”€â”€ rate_limit.py
â”‚   â”œâ”€â”€ webhooks/
â”‚   â”‚   â””â”€â”€ stripe.py
â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â”œâ”€â”€ test_auth.py
â”‚   â”‚   â”œâ”€â”€ test_tenders.py
â”‚   â”‚   â””â”€â”€ test_ai.py
â”‚   â”œâ”€â”€ api_spec.yaml (OpenAPI specification)
â”‚   â””â”€â”€ audit_report.md
â”‚
â”œâ”€â”€ frontend/ (TODO - generated by Frontend Agent)
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ next.config.js
â”‚   â”œâ”€â”€ tailwind.config.js
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ index.tsx (Dashboard)
â”‚   â”‚   â”œâ”€â”€ login.tsx
â”‚   â”‚   â”œâ”€â”€ signup.tsx
â”‚   â”‚   â”œâ”€â”€ tenders/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx (Search/List)
â”‚   â”‚   â”‚   â””â”€â”€ [id].tsx (Detail)
â”‚   â”‚   â”œâ”€â”€ ask.tsx (AI Chat)
â”‚   â”‚   â”œâ”€â”€ alerts.tsx
â”‚   â”‚   â””â”€â”€ account.tsx
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ Layout.tsx
â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”œâ”€â”€ TenderCard.tsx
â”‚   â”‚   â”œâ”€â”€ ChatInterface.tsx
â”‚   â”‚   â””â”€â”€ AlertForm.tsx
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ api.ts (Backend API client)
â”‚   â”‚   â””â”€â”€ auth.ts (JWT handling)
â”‚   â”œâ”€â”€ styles/
â”‚   â”‚   â””â”€â”€ globals.css
â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â””â”€â”€ components/
â”‚   â””â”€â”€ audit_report.md
â”‚
â”œâ”€â”€ scraper/ (TODO - generated by Scraper Agent)
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”œâ”€â”€ config.yaml
â”‚   â”œâ”€â”€ scrapy.cfg
â”‚   â”œâ”€â”€ spiders/
â”‚   â”‚   â””â”€â”€ nabavki_spider.py
â”‚   â”œâ”€â”€ items.py (TenderItem, DocumentItem)
â”‚   â”œâ”€â”€ pipelines.py (DB insertion)
â”‚   â”œâ”€â”€ middlewares.py (rate limiting)
â”‚   â”œâ”€â”€ pdf_extractor.py
â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â”œâ”€â”€ test_spider.py
â”‚   â”‚   â””â”€â”€ test_pdf_extraction.py
â”‚   â”œâ”€â”€ logs/
â”‚   â”‚   â”œâ”€â”€ scraper.log
â”‚   â”‚   â”œâ”€â”€ errors.log
â”‚   â”‚   â””â”€â”€ stats.json
â”‚   â””â”€â”€ audit_report.md
â”‚
â”œâ”€â”€ ai/ (TODO - generated by AI/RAG Agent)
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”œâ”€â”€ rag_pipeline.py (main orchestration)
â”‚   â”œâ”€â”€ embeddings/
â”‚   â”‚   â”œâ”€â”€ generator.py
â”‚   â”‚   â””â”€â”€ vector_store.py
â”‚   â”œâ”€â”€ prompts/
â”‚   â”‚   â”œâ”€â”€ templates.py
â”‚   â”‚   â””â”€â”€ system_prompts.md
â”‚   â”œâ”€â”€ llm/
â”‚   â”‚   â”œâ”€â”€ gemini_client.py
â”‚   â”‚   â””â”€â”€ fallback_client.py
â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â”œâ”€â”€ test_rag_pipeline.py
â”‚   â”‚   â””â”€â”€ test_embeddings.py
â”‚   â”œâ”€â”€ integration_guide.md (for Backend)
â”‚   â””â”€â”€ audit_report.md
â”‚
â”œâ”€â”€ tests/ (TODO - generated by QA Agent)
â”‚   â”œâ”€â”€ integration/
â”‚   â”‚   â”œâ”€â”€ test_scraper_to_db.py
â”‚   â”‚   â”œâ”€â”€ test_backend_to_ai.py
â”‚   â”‚   â””â”€â”€ test_full_user_flow.py
â”‚   â”œâ”€â”€ e2e/
â”‚   â”‚   â”œâ”€â”€ test_signup_flow.spec.ts
â”‚   â”‚   â”œâ”€â”€ test_tender_search.spec.ts
â”‚   â”‚   â””â”€â”€ test_ai_query.spec.ts
â”‚   â”œâ”€â”€ security/
â”‚   â”‚   â”œâ”€â”€ bandit_report.json
â”‚   â”‚   â””â”€â”€ npm_audit_report.json
â”‚   â”œâ”€â”€ performance/
â”‚   â”‚   â””â”€â”€ load_test_results.md
â”‚   â””â”€â”€ final_audit_report.md
â”‚
â”œâ”€â”€ docker-compose.yml (TODO - DevOps Agent)
â”œâ”€â”€ Dockerfile (TODO - DevOps Agent)
â”œâ”€â”€ .dockerignore (TODO)
â”‚
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ ci.yml (TODO - run tests on push)
â”‚       â””â”€â”€ deploy.yml (TODO - deploy to production)
â”‚
â”œâ”€â”€ docs/ (TODO - auto-generated docs)
â”‚   â”œâ”€â”€ api/ (OpenAPI/Swagger UI)
â”‚   â”œâ”€â”€ architecture.md
â”‚   â””â”€â”€ deployment.md
â”‚
â”œâ”€â”€ storage/ (created at runtime)
â”‚   â””â”€â”€ pdfs/ (scraped tender PDFs)
â”‚       â””â”€â”€ {year}/
â”‚           â””â”€â”€ {tender_id}/
â”‚
â”œâ”€â”€ reports/ (created by Orchestrator)
â”‚   â”œâ”€â”€ orchestrator_log.md
â”‚   â”œâ”€â”€ dependency_graph.dot
â”‚   â”œâ”€â”€ quality_dashboard.md
â”‚   â”œâ”€â”€ agent_logs/
â”‚   â””â”€â”€ audit_reports/
â”‚
â””â”€â”€ scripts/ (TODO - utility scripts)
    â”œâ”€â”€ setup_dev.sh
    â”œâ”€â”€ run_migrations.sh
    â”œâ”€â”€ backup_db.sh
    â””â”€â”€ deploy_staging.sh
```

## File Statistics

### âœ… Complete (Current Status)
- **orchestrator.yaml**: 650 lines (agent coordination)
- **claude/rules.md**: 1,800 lines (quality standards)
- **claude/agents/orchestrator.md**: 800 lines
- **claude/agents/database.md**: 900 lines
- **claude/agents/scraper.md**: 700 lines
- **db/schema.sql**: 650 lines (12 tables, indexes, functions)
- **db/schema.md**: 800 lines (documentation)
- **MULTI_AGENT_SYSTEM_COMPLETE.md**: 1,000 lines
- **QUICK_START.md**: 400 lines

**Total Generated**: ~8,700 lines of configuration, documentation, and SQL

### ğŸ”¨ TODO (To Be Generated)
- **6 remaining agent definitions**: ~4,000 lines (backend, AI, frontend, billing, devops, QA)
- **Implementation code**: ~15,000-20,000 lines (Python, TypeScript, SQL)
- **Tests**: ~3,000-5,000 lines
- **Documentation**: ~1,000 lines

**Total Expected**: ~30,000-35,000 lines at completion

## Key Integration Points

### Data Flow
```
e-nabavki.gov.mk
    â†“ (Scraper Agent)
PostgreSQL Database
    â†“ (AI Agent: embeddings)
    â†“ (Backend API: queries)
Frontend UI
    â†“ (User interaction)
Backend API
    â†“ (Stripe webhooks)
Subscriptions Table
```

### Agent Dependencies
```
Database Agent (Foundation)
    â†“
â”œâ”€â”€ Scraper Agent â”€â”€â”
â”œâ”€â”€ Backend Agent  â”€â”¼â”€â†’ Integration Tests
â””â”€â”€ AI/RAG Agent â”€â”€â”˜
    â†“
â”œâ”€â”€ Frontend Agent â”€â”
â””â”€â”€ Billing Agent â”€â”€â”¼â”€â†’ E2E Tests
    â†“               â”‚
DevOps Agent â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
QA/Testing Agent
    â†“
Production Deployment
```

## Git Structure (Recommended)

```
main (protected)
â”œâ”€â”€ develop
â”‚   â”œâ”€â”€ feature/database-schema
â”‚   â”œâ”€â”€ feature/scraper-implementation
â”‚   â”œâ”€â”€ feature/backend-api
â”‚   â”œâ”€â”€ feature/ai-rag-pipeline
â”‚   â”œâ”€â”€ feature/frontend-ui
â”‚   â”œâ”€â”€ feature/billing-integration
â”‚   â””â”€â”€ feature/devops-deployment
â””â”€â”€ hotfix/* (emergency fixes)
```

## Deployment Structure (Production)

```
Cloud Infrastructure (AWS/Railway/Vercel)
â”œâ”€â”€ PostgreSQL RDS (database)
â”œâ”€â”€ Redis (session storage, caching)
â”œâ”€â”€ S3 Bucket (PDF storage)
â”œâ”€â”€ EC2/Container (backend API)
â”œâ”€â”€ Vercel (frontend Next.js)
â”œâ”€â”€ Lambda/Cron (scraper - daily run)
â””â”€â”€ CloudWatch (logging & monitoring)
```

## Next Steps

1. âœ… Foundation complete (you are here)
2. Generate remaining 6 agent definition files
3. Activate Scraper Agent (Week 2)
4. Activate Backend + AI Agents (Week 3-4)
5. Activate Frontend + Billing Agents (Week 5)
6. Activate DevOps + QA Agents (Week 6)
7. Deploy to production (Week 7)

---

**Last Updated**: 2024-11-22
**Generated Files**: 9 core files + directory structure
**Status**: Foundation complete, ready for agent execution
